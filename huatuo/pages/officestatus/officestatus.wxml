<!--pages/officestatus/officestatus.wxml-->
<import src="/pages/common/template/commonhealthstatus/commonhealthstatus.wxml"/>
<import src="/pages/common/template/commonhomebtn/commonhomebtn.wxml"/>

<image class="image" mode="widthFix" src="/pages/common/resources/images/huatuo_banner.jpg"/>
<view class="button-container">
  <view style="display: flex;flex-direction: row;align-items: baseline;">
    <template wx:if="{{!prodVersion}}" is="common-home-btn" data="{{width: imageWidth, height: imageHeight, ...btnNews }}"/>
    <template is="common-home-btn" data="{{width: imageWidth, height: imageHeight, ...btnReport }}"/>
    <template is="common-home-btn" data="{{width: imageWidth, height: imageHeight, ...btnVPN }}"/>
    <template wx:if="{{!prodVersion}}" is="common-home-btn" data="{{width: imageWidth, height: imageHeight, ...btnHelp }}"/>
    <template wx:if="{{!prodVersion}}" is="common-home-btn" data="{{width: imageWidth, height: imageHeight, ...btnSurvey }}"/>
  </view>
</view>

<view class="news-container-view">
  <view class="news-view">
    <image class="speak" src="/pages/common/resources/images/huatuo_speak.png"></image>

    <swiper class="swiper_container" vertical="true" autoplay="true" circular="true" interval="1000">
      <block wx:for="{{news}}" wx:key="">
        <navigator url="/pages/index/index?title={{item.url}}" open-type="navigate">
          <swiper-item>
            <view class="swiper_item">{{item.title}}</view>
          </swiper-item>
        </navigator>
      </block>
    </swiper>

    <view class="more">更多/More</view>
    <image class="arrow" src="/pages/common/resources/images/huotuo_arrow.png"></image>
  </view>
</view>

<view class="body">
    <block wx:for="{{healthStatus}}" wx:key="{{item}}">
      <view class="office-view">
        <view class="office-area-view">
          <view class="office-area-tag"> </view>
          <view class="office-area">{{item.area}}</view>
          <view class="office-desc">{{item.areaen}}</view>
        </view>
        <block wx:for="{{item.buildingReports}}" wx:key="{{item}}">
          <template is='common-health-status' data="{{...item}}"></template>
        </block>
      </view>
    </block>

  <view class="vpn-container-view page-section">
    <view class="office-area-view">
      <view class="office-area-tag"> </view>
      <view class="office-area">VPN状态</view>
      <view class="office-desc">VPN Status</view>
    </view>
    <view class="common-vpn-status-content">
      <!-- VPN-HK -->
      <view class="common-vpn-status-tab" style="border-right:#F3F3F3 solid 2rpx;">
        <view class="common-vpn-status-desc">
          <view class="label">{{vpnStatus[0].vpn[0].name}}</view>
          <view class="desc">Count of VPN Problem</view>
        </view>
        <block wx:if="{{vpnStatus[0].vpn[0].count > 0 && vpnStatus[0].vpn[0].count < 10 }}" >
          <view class="common-vpn-status-count color-green">{{vpnStatus[0].vpn[0].count}}</view>
          <image class="common-vpn-status-image" mode="widthFix" src="/pages/common/resources/images/green.png" ></image>
        </block>
        <block wx:if="{{vpnStatus[0].vpn[0].count >= 10 && vpnStatus[0].vpn[0].count < 50 }}" >
          <view class="common-vpn-status-count color-yellow">{{vpnStatus[0].vpn[0].count}}</view>
          <image class="common-vpn-status-image" mode="widthFix" src="/pages/common/resources/images/yellow.png" ></image>
        </block>
        <block wx:if="{{vpnStatus[0].vpn[0].count >= 50 }}" >
          <view class="common-vpn-status-count color-red">{{vpnStatus[0].vpn[0].count}}</view>
          <image class="common-vpn-status-image" mode="widthFix" src="/pages/common/resources/images/red.png" ></image>
        </block>


      </view>

      <!-- VPN-CN -->
      <view class="common-vpn-status-tab">
        <view class="common-vpn-status-desc">
          <view class="label">{{vpnStatus[0].vpn[1].name}}</view>
          <view class="desc">Count of VPN Problem</view>
        </view>
        <block wx:if="{{vpnStatus[0].vpn[1].count > 0 && vpnStatus[0].vpn[1].count < 10 }}" >
          <view class="common-vpn-status-count color-green">{{vpnStatus[0].vpn[1].count}}</view>
          <image class="common-vpn-status-image" mode="widthFix" src="/pages/common/resources/images/green.png" ></image>
        </block>
        <block wx:if="{{vpnStatus[0].vpn[1].count >= 10 && vpnStatus[0].vpn[1].count < 50 }}" >
          <view class="common-vpn-status-count color-yellow">{{vpnStatus[0].vpn[1].count}}</view>
          <image class="common-vpn-status-image" mode="widthFix" src="/pages/common/resources/images/yellow.png" ></image>
        </block>
        <block wx:if="{{vpnStatus[0].vpn[1].count >= 50 }}" >
          <view class="common-vpn-status-count color-red">{{vpnStatus[0].vpn[1].count}}</view>
          <image class="common-vpn-status-image" mode="widthFix" src="/pages/common/resources/images/red.png" ></image>
        </block>
      </view>

    </view>
  </view>

  <view class="footer-view">
    <view class="footer-container-view">
      <view style="color:#666666">Copyright@</view>
      <view style="color:#21A60C;font-weight: bold;">HASE IT</view>
    </view>
  </view>

</view>